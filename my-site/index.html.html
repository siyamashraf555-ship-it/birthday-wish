<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday üéÇ</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --card:#111827ee; /* gray-900 */
      --text:#e5e7eb; /* gray-200 */
      --accent:#f59e0b; /* amber-500 */
      --pink:#ec4899; /* pink-500 */
      --blue:#3b82f6; /* blue-500 */
      --green:#10b981; /* emerald-500 */
      --ring:#22d3ee; /* cyan-400 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 50% -20%, #1f2937 0%, var(--bg) 60%) no-repeat fixed;
      color:var(--text);
      display:grid; place-items:center; padding:24px;
      overflow-x:hidden;
    }
    .card{
      width:min(920px, 96vw);
      background:linear-gradient(180deg,#0b1220, #0b1220c5 60%, #0b122000);
      border:1px solid #253047; border-radius:24px; padding:24px; position:relative;
      box-shadow:0 20px 60px #0006;
      backdrop-filter: blur(6px);
    }
    h1{font-size:clamp(28px, 3.2vw, 44px); margin:6px 0 8px; letter-spacing:0.5px}
    p{line-height:1.7; font-size:clamp(15px, 2vw, 18px)}
    .accent{color:var(--accent)}
    .muted{color:#9ca3af}

    .row{display:flex; flex-wrap:wrap; gap:12px}
    .row > *{flex:1 1 240px}

    .input{
      background:#0b1220; border:1px solid #253047; color:var(--text);
      padding:12px 14px; border-radius:14px; width:100%; outline:none;
      transition:border .2s, box-shadow .2s;
    }
    .input:focus{border-color:var(--ring); box-shadow:0 0 0 4px #22d3ee25}

    .btn{
      display:inline-flex; align-items:center; gap:8px;
      background:linear-gradient(135deg, #3b82f6, #22d3ee);
      color:#06121f; font-weight:700; border:0; padding:12px 16px; border-radius:14px; cursor:pointer;
      box-shadow: 0 10px 24px #0ea5e980; transition: transform .06s ease;
    }
    .btn:active{transform:translateY(1px)}

    .wish{
      margin-top:18px; padding:18px; border-radius:18px; border:1px dashed #334155;
      background: #0b1220a6;
    }

    .footer{display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:16px; flex-wrap:wrap}
    .tiny{font-size:13px}

    /* Floating balloons */
    .balloons{position:absolute; inset:0; overflow:hidden; pointer-events:none}
    .balloon{position:absolute; bottom:-120px; width:26px; height:34px; border-radius:50% 50% 45% 55%/55% 50% 50% 45%; opacity:.75; animation: float var(--dur) linear infinite;}
    .balloon::after{content:""; position:absolute; left:50%; top:100%; width:2px; height:38px; background:#ffffff30; transform:translateX(-50%)}
    @keyframes float{ to{ transform: translateY(-120vh) translateX(var(--drift)); } }

    /* Confetti */
    .confetti{position:fixed; inset:0; pointer-events:none}
    .piece{position:absolute; width:8px; height:14px; opacity:.9; animation: fall var(--t) linear forwards}
    @keyframes fall{ to{ transform: translateY(100vh) rotate(540deg);} }

    /* Cake */
    .cake{display:inline-grid; place-items:center; margin-top:14px}
    .cake svg{filter: drop-shadow(0 8px 20px #0007)}
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="balloons" id="balloons"></div>

    <h1>üéÇ <span class="accent">Happy Birthday</span> <span id="toName">puspa</span>! üéâ</h1>
    <p id="line1">Wishing you a day filled with joy, good health, and success.</p>

    <div class="cake" aria-hidden="true">
      <!-- Cute minimal cake icon -->
      <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="20" y="60" width="80" height="36" rx="8" fill="#1f2937" stroke="#374151"/>
        <path d="M20 72c16 14 24-14 40 0s24-14 40 0" stroke="#f59e0b" stroke-width="4" fill="none"/>
        <rect x="44" y="44" width="32" height="20" rx="6" fill="#111827" stroke="#374151"/>
        <path d="M60 20c-6 6 6 6 0 12c6-6-6-6 0-12z" fill="#ef4444"/>
        <rect x="58" y="28" width="4" height="16" rx="2" fill="#f59e0b"/>
        <circle cx="60" cy="28" r="3" fill="#fde68a"/>
      </svg>
    </div>

    <div class="row" style="margin-top:18px">
      <input class="input" id="nameInput" placeholder="Recipient name (e.g., puspa)"/>
      <input class="input" id="fromInput" placeholder="Your name (e.g., ame)"/>
    </div>

    <div class="row" style="margin-top:12px">
      <textarea class="input" id="customMsg" rows="3" placeholder="Write your custom message‚Ä¶ (optional)"></textarea>
    </div>

    <div class="footer">
      <div class="row" style="flex:2">
        <button class="btn" id="btnWish">Send Wish üéâ</button>
        <button class="btn" id="btnConfetti" style="background:linear-gradient(135deg,#10b981,#84cc16)">Throw Confetti ü™Ö</button>
        <button class="btn" id="btnCopy">Copy Link üîó</button>
      </div>
      <span class="tiny muted">Tip: Fill the fields above and click ‚ÄúSend Wish‚Äù.</span>
    </div>

    <div class="wish" id="wishBox" hidden>
      <p id="wishText"></p>
    </div>
  </div>

  <canvas class="confetti" id="confetti" aria-hidden="true"></canvas>

  <script>
    const $ = (s)=>document.querySelector(s);

    // URL params: ?name=puspa&from=ame&msg=...
    const params = new URLSearchParams(location.search);
    if(params.get('name')) $('#nameInput').value = params.get('name');
    if(params.get('from')) $('#fromInput').value = params.get('from');
    if(params.get('msg')) $('#customMsg').value = params.get('msg');

    // Defaults if not provided
    if(!$('#nameInput').value) $('#nameInput').value = 'puspa';
    if(!$('#fromInput').value) $('#fromInput').value = 'ame';

    // Set heading default
    $('#toName').textContent = $('#nameInput').value || 'friend';

    // Balloons
    const colors = ['var(--pink)','var(--blue)','var(--green)','var(--accent)'];
    const balloons = $('#balloons');
    for(let i=0;i<28;i++){
      const b = document.createElement('div');
      b.className = 'balloon';
      b.style.left = Math.random()*100 + 'vw';
      b.style.background = colors[i%colors.length];
      b.style.setProperty('--dur', (18 + Math.random()*14) + 's');
      b.style.setProperty('--drift', (Math.random()*80 - 40) + 'px');
      b.style.opacity = 0.55 + Math.random()*0.35;
      balloons.appendChild(b);
    }

    // Confetti
    const c = $('#confetti');
    const ctx = c.getContext('2d');
    function size(){ c.width = innerWidth; c.height = innerHeight; }
    addEventListener('resize', size); size();
    const pieces = [];
    function spawnConfetti(n=120){
      for(let i=0;i<n;i++){
        pieces.push({
          x: Math.random()*c.width,
          y: -10 - Math.random()*c.height*0.3,
          w: 6 + Math.random()*6,
          h: 8 + Math.random()*14,
          vy: 2 + Math.random()*4,
          vx: -1 + Math.random()*2,
          rot: Math.random()*Math.PI*2,
          vr: -0.2 + Math.random()*0.4,
          color: colors[i%colors.length]
        });
      }
    }
    function tick(){
      ctx.clearRect(0,0,c.width,c.height);
      for(const p of pieces){
        p.x += p.vx; p.y += p.vy; p.rot += p.vr;
      }
      for(const p of pieces){
        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = p.color;
        ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        ctx.restore();
      }
      // remove off-screen
      for(let i=pieces.length-1;i>=0;i--){ if(pieces[i].y > c.height+30) pieces.splice(i,1); }
      requestAnimationFrame(tick);
    }
    tick();

    function makeWish(){
      const name = $('#nameInput').value.trim() || 'friend';
      const from = $('#fromInput').value.trim() || 'ame';
      const msg = $('#customMsg').value.trim();

      $('#toName').textContent = name;

      let text = `Dear ${name},
Happy Birthday! üéÇ May your year be full of joy and success.`;
      if(msg) text = msg;
      if(from) text += `

‚Äî ${from}`;

      $('#wishText').textContent = text;
      $('#wishBox').hidden = false;
      spawnConfetti(180);
    }

    $('#btnWish').addEventListener('click', makeWish);
    $('#btnConfetti').addEventListener('click', ()=>spawnConfetti(140));

    // Copy sharable link with query params
    $('#btnCopy').addEventListener('click', ()=>{
      const name = encodeURIComponent($('#nameInput').value.trim());
      const from = encodeURIComponent($('#fromInput').value.trim());
      const msg  = encodeURIComponent($('#customMsg').value.trim());
      const url = location.origin + location.pathname + `?name=${name}&from=${from}&msg=${msg}`;
      navigator.clipboard.writeText(url).then(()=>{
        const t = document.createElement('div');
        t.textContent = 'Link copied!';
        t.style.position='fixed'; t.style.bottom='18px'; t.style.left='50%'; t.style.transform='translateX(-50%)';
        t.style.background='#111827'; t.style.border='1px solid #334155'; t.style.padding='10px 14px'; t.style.borderRadius='12px';
        t.style.boxShadow='0 10px 24px #0007';
        document.body.appendChild(t);
        setTimeout(()=>t.remove(),1200);
      });
    });

    // Auto wish if params present
    if(params.get('name')||params.get('msg')){
      setTimeout(()=>{ makeWish(); spawnConfetti(200); }, 300);
    }
  </script>
</body>
</html>
